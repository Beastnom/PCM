<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PrepGuide</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');


:root{
  --glass-dark: rgba(255,255,255,0.08);
  --glass-light: rgba(255,255,255,0.25);
  --muted: #666;
  --highlight: #ffd54f;
  --dark-bg:#000;
  --dark-text:#fff;
  --light-bg:#fff8f8;
  --light-text:#222;
  --light-glow: rgba(255,182,193,0.35);
}


*{box-sizing:border-box;margin:0;padding:0;transition: all 0.3s ease;}
body {
  font-family:'Poppins',sans-serif;
  min-height:100vh;
  overflow-x:hidden;
  position:relative;
  background:var(--dark-bg);
  color:var(--dark-text);
}


body::before, body::after{
  content:"";
  position:fixed;
  width:200%;
  height:200%;
  top:-50%;
  left:-50%;
  border-radius:50%;
  z-index:-1;
  filter: blur(120px);
}
body::before{
  background: radial-gradient(circle at 20% 30%, rgba(255,0,150,0.4), transparent 40%);
  animation: blob1 25s infinite linear alternate;
}
body::after{
  background: radial-gradient(circle at 80% 70%, rgba(0,255,255,0.3), transparent 50%);
  animation: blob2 30s infinite linear alternate-reverse;
}
@keyframes blob1{
  0% {transform: translate(0,0) rotate(0deg);}
  50% {transform: translate(20vw,10vh) rotate(180deg);}
  100% {transform: translate(0,0) rotate(360deg);}
}
@keyframes blob2{
  0% {transform: translate(0,0) rotate(0deg);}
  50% {transform: translate(-20vw,-10vh) rotate(180deg);}
  100% {transform: translate(0,0) rotate(360deg);}
}


header{
  text-align:center; padding:30px 16px 8px; position:relative;
}
header h1{
  font-size:2.5rem; font-weight:700;
  background: linear-gradient(90deg,#00f260,#0575e6);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  transition: all 0.4s ease;
  cursor: pointer;
}
header h1:hover{
  transform: scale(1.08) rotate(-2deg);
}
header p{ margin-top:8px; opacity:0.85; font-size:1.05rem; }


#theme-toggle{
  position:absolute; top:24px; right:24px;
  width:42px; height:42px; border-radius:50%; border:none;
  cursor:pointer; font-size:1.2rem;
  background: linear-gradient(135deg,#ffb6c1,#f8c8ff);
  display:flex; align-items:center; justify-content:center;
  box-shadow:0 6px 20px rgba(0,0,0,0.25);
  transition: all 0.3s ease;
}
#theme-toggle:hover{ transform: scale(1.1) rotate(10deg); }


.container{ max-width:980px; margin:20px auto; padding:10px; }


.search-box{
  text-align:center; margin-bottom:18px;
}
.search-box input{
  width:86%; max-width:500px; padding:14px 20px;
  border-radius:16px; border:none; outline:none;
  font-size:1rem;
  background: rgba(255,255,255,0.08);
  color:#fff;
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  backdrop-filter: blur(8px);
  transition: all 0.3s ease, box-shadow 0.4s ease, transform 0.3s ease;
  border: 1px solid rgba(255,255,255,0.12);
}
.search-box input::placeholder{
  color:#dfefff; opacity:0.6; transition: opacity 0.3s ease;
}
.search-box input:hover{
  background: rgba(255,255,255,0.12);
  box-shadow: 0 8px 25px rgba(0,255,255,0.3),0 0 15px rgba(255,0,150,0.2);
   transform: translateY(-5px) scale(1.02);
}
.search-box input:focus{
  background: rgba(255,255,255,0.18);
  transform: scale(1.02);
  box-shadow: 0 10px 30px rgba(0,255,255,0.5),0 0 20px rgba(255,0,150,0.3);
  border:1px solid #00f260;
}
.search-box input:focus::placeholder{ opacity:0.4; }

.controls{
  text-align:center; margin-bottom:18px; display:flex;
  justify-content:center; gap:12px; flex-wrap:wrap;
}
.toggle-btn, #reset-btn{
  padding:10px 16px; border-radius:10px; border:0;
  font-weight:600; cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.18);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.toggle-btn{
  background: linear-gradient(90deg,#36d1dc,#5b86e5); color:#fff;
}


.toggle-btn:hover{ transform:scale(1.05); box-shadow:0 8px 25px rgba(0,0,0,0.35); }
#reset-btn{
  background: linear-gradient(90deg,#ff4e50,#f9d423); color:#fff;
}
#reset-btn:hover{ transform:scale(1.05); box-shadow:0 8px 25px rgba(0,0,0,0.35);}


.card{
  background: var(--glass-dark);
  border-radius:16px;
  padding:20px;
  margin-bottom:20px;
  backdrop-filter: blur(12px);
  box-shadow: 0 8px 30px rgba(0,0,0,0.28);
  transition: transform .3s ease, box-shadow .3s ease, background 0.3s ease;
}
.card:hover{
  transform: translateY(-5px) scale(1.02);
  box-shadow:0 0 30px rgba(0,255,255,0.4),0 0 50px rgba(255,0,255,0.4);
}


h2{ color:#fff; margin-bottom:10px; font-size:1.25rem;}
h3{ color:#fff; margin:12px 0 6px 0; font-size:1rem; }


.progress-container{
  background: rgba(255,255,255,0.12);
  border-radius:20px;
  height:28px; position:relative; overflow:hidden;
}
.progress-bar{
  height:100%; 
  width:0%;
  background: linear-gradient(90deg,#00f260,#0575e6);
  transition: width 1.5s ease-in-out;
  border-radius: 20px;
  position: relative;
  overflow: hidden;
}

.progress-bar::after{
  content: "";
  position: absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background: linear-gradient(270deg, rgba(255,255,255,0.3), rgba(255,255,255,0.1), rgba(255,255,255,0.3));
  opacity: 0.6;
  animation: shine 2.5s linear infinite;
  border-radius: 20px;
}

@keyframes shine {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}


body.light .progress-bar{
  background: linear-gradient(90deg,#ffb6c1,#ffc0cb);
}

body.light .progress-bar::after{
  background: linear-gradient(270deg, rgba(255,255,255,0.4), rgba(255,255,255,0.1), rgba(255,255,255,0.4));
}

@keyframes shimmer{
  0% {background-position: -200% 0;}
  100% {background-position: 200% 0;}
}
.progress-text{
  position:absolute; left:50%; top:0; transform:translateX(-50%);
  display:flex; align-items:center; justify-content:center;
  height:100%; font-weight:700; color:#fff; text-shadow:0 2px 8px rgba(0,0,0,0.45);
}


.chapter{
  display:flex; align-items:center;
  gap:12px; padding:8px 10px; border-radius:10px;
  margin:6px 0; transition: all 0.25s ease;
}
.chapter:hover{
  background: rgba(255,255,255,0.05);
  transform: scale(1.02);
}


.checkbox-wrapper{
  width:22px; height:22px; position:relative; flex-shrink:0;
}
.checkbox-wrapper input{
  position:absolute; inset:0; opacity:0; z-index:2; cursor:pointer;
}
.checkmark{
  position:absolute; inset:0; border-radius:6px; background: rgba(255,255,255,0.16);
  display:block; transition: all .2s ease;
}
.checkbox-wrapper input:checked ~ .checkmark{
  background: linear-gradient(135deg,#00f260,#0575e6);
  transform: scale(1.02);
  box-shadow:0 6px 18px rgba(0,0,0,0.28) inset;
}
.checkbox-wrapper .checkmark:after{
  content:""; position:absolute; left:6px; top:3px; width:5px; height:10px;
  border: solid white; border-width:0 2px 2px 0; transform: rotate(45deg);
  display:none;
}
.checkbox-wrapper input:checked ~ .checkmark:after{ display:block;}


.label-text{
  color:#f3f6fb; font-size:0.97rem; flex:1; user-select:none;
}
.label-text.completed{ text-decoration:line-through; color:var(--muted); }
.highlight{ background: var(--highlight); color:#000; padding:0 4px; border-radius:4px; }


footer{
  text-align:center; padding:14px 10px; color:#eaeef9; font-size:0.95rem;
  margin-top:20px; opacity:0.95;
}
footer span{ color:#ff6b6b; margin:0 6px; }


@media(max-width:640px){
  header h1{ font-size:1.8rem; }
  .search-box input{ width:92%; }
  .container{ padding:12px; }
}


body.light{
  background: var(--light-bg);
  color: var(--light-text);
}
body.light h2, body.light h3, body.light .label-text, body.light .progress-text{
  color: var(--light-text);
}
body.light .card{ background: var(--glass-light); box-shadow:0 8px 30px var(--light-glow);}
body.light .checkbox-wrapper .checkmark{ background: rgba(0,0,0,0.1);}
body.light .checkbox-wrapper input:checked ~ .checkmark{ box-shadow:0 6px 18px rgba(255,182,193,0.4) inset; background:linear-gradient(135deg,#ffb6c1,#ffc0cb);}
body.light .chapter:hover{ background: rgba(255,182,193,0.15);}
body.light .search-box input{ color:#222; background: rgba(255,255,255,0.25); border:1px solid rgba(0,0,0,0.15);}
body.light .search-box input::placeholder{ color:#555; opacity:0.6;}
body.light .search-box input:hover{ box-shadow:0 8px 25px rgba(255,182,193,0.4),0 0 15px rgba(255,182,193,0.3);}
body.light .search-box input:focus{ box-shadow:0 10px 30px rgba(255,182,193,0.5),0 0 20px rgba(255,182,193,0.3);}
body.light .progress-container{
  background: rgba(255,182,193,0.2); 
}
body.light footer{
  color:#222; 
}
body.light .progress-text{
  color:#222;
}

</style>
<!-- ‚úÖ PWA manifest + theme color -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#000000">
</head>
<body>
<header>
<h1>PrepGuide</h1>
<p>Track your progress and master every chapter! üåü</p>
<button id="theme-toggle">üåô</button>
</header>

<div class="container">
<div class="search-box">
<input id="search" placeholder="üîç Search chapters (e.g. Optics, Integrals)..." />
</div>
<div class="controls">
<button id="toggle-sort" class="toggle-btn">üìå Show Pending First</button>
<button id="reset-btn">Reset Progress</button>
</div>

<div class="card">
<h2>Overall Progress</h2>
<div class="progress-container">
<div id="progress-bar" class="progress-bar"></div>
<div id="progress-text" class="progress-text">0%</div>
</div>
</div>

<div class="card">
<h2>Subject-wise Progress</h2>
<h3>üìó Physics</h3>
<div class="progress-container"><div id="physics-bar" class="progress-bar"></div><div id="physics-text" class="progress-text">0%</div></div>
<h3>üß™ Chemistry</h3>
<div class="progress-container"><div id="chemistry-bar" class="progress-bar"></div><div id="chemistry-text" class="progress-text">0%</div></div>
<h3>üìê Mathematics</h3>
<div class="progress-container"><div id="math-bar" class="progress-bar"></div><div id="math-text" class="progress-text">0%</div></div>
<h3>üìì English</h3>
<div class="progress-container"><div id="english-bar" class="progress-bar"></div><div id="english-text" class="progress-text">0%</div></div>

</div>

<div id="checklist"></div>
</div>

<footer>Made with <span>‚ù§</span> from <strong>Sunny</strong> to <strong>Shreya</strong> </footer>

<script>

const icons = {
"Electric Charges and Fields":"‚ö°","Electrostatic Potential and Capacitance":"üîã","Current Electricity":"üí°","Moving Charges and Magnetism":"üß≤","Magnetism and Matter":"üß≠","Ray Optics and Optical Instruments":"üî≠",
"Wave Optics":"üåà","Oscillations":"üéµ","Waves":"üì°","Thermodynamics":"üî•","Gravitation":"üåç","Integrals":" ‚àÆ ","The Alcohols, Phenols, and Ethers":"üç∑","On the Face of It ‚Äì Susan Hill":"üë®","An Elementary School Classroom in a Slum ‚Äì Stephen Spender":"üè´",
"Units and Measurements":"üìè","Motion in a Plane":"ü™Ç","Some Basic Concepts of Chemistry":"üß™","Structure of Atom":"‚öõÔ∏è","Going Places ‚Äì A.R. Barton":"‚õ∫","Journey to the End of the Earth ‚Äì Tishani Doshi":"üåé",
"Chemical Bonding and Molecular Structure":"üîó","Equilibrium":"‚öñÔ∏è","Hydrocarbons": "‚õΩ","Solid State":"üßä","Lost Spring ‚Äì Anees Jung":"üå∏","Deep Water ‚Äì William Douglas":"‚õ¥","My Mother at Sixty-Six ‚Äì Kamala Das":"üë©üèª‚Äçü¶≥",
"Solutions":"ü•§","Electrochemistry":"üîå","Polymers":"üßµ","Biomolecules":"üß¨","Relations and Functions": "üîó","Organic Chemistry Basics": "üìù","The Tiger King ‚Äì Kalki":"üêØ","The Third Level ‚Äì Jack Finney":"‚åõ",
"Inverse Trigonometric Functions":"üìê","Matrices":"üßÆ","Determinants":"üî¢","Probability":"üé≤","Nuclei": "‚ò¢Ô∏è","System of Particles & Rotational Motion": "üåÄ","The Last Lesson ‚Äì Alphonse Daudet":"ü•Ä","Continuity and Differentiability":"‚àÇ(f)/‚àÇ(x)",
"Statistics":"üìä","Sequences and Series":"A.P.","Limits and Derivatives":"üìà","Differential Equations":"","Trigonometric Functions":"üìê","The Rattrap ‚Äì Selma Lagerl√∂f":"üßÄ","Indigo ‚Äì Louis Fischer":"üíú","Applications of Derivatives":"",
"Vector Algebra":"‚û°Ô∏è","Kinetic Theory of Gases":"üí®","Semiconductor Electronics":"üíª","Alternating Current":"üîÅ","3D Geometry": "üèóÔ∏è","The Enemy ‚Äì Pearl S. Buck":"üòà","Memories of Childhood ‚Äì Zitkala-Sa & Bama":"üß∏",
"Dual Nature of Radiation and Matter":"üí•","Electromagnetic Induction":"„Ä∞Ô∏è","Electromagnetic Waves":"(ÔπôÀì  ÀíÔπö)","Chemical Kinetics":"üß™","Atoms":"‚öõ","The D and F Block Elements":"‚ÖÖ & ùìØ","The Coordination Compounds":"‚û°Ô∏è","Keeping Quiet ‚Äì Pablo Neruda":"ü§´","A Thing of Beauty ‚Äì John Keats":"üë©üèº","A Roadside Stand ‚Äì Robert Frost":"üõ£Ô∏è","Aunt Jennifer‚Äôs Tigers ‚Äì Adrienne Rich":"üêÖ",
};

const data = {
Physics:{Class12:["Electric Charges and Fields","Electrostatic Potential and Capacitance","Current Electricity","Moving Charges and Magnetism","Magnetism and Matter","Electromagnetic Induction","Alternating Current","Electromagnetic Waves","Ray Optics and Optical Instruments","Wave Optics","Dual Nature of Radiation and Matter","Atoms","Nuclei","Semiconductor Electronics"]},
Chemistry:{Class12:["Solutions","Electrochemistry","Chemical Kinetics","The D and F Block Elements","The Coordination Compounds","The Haloalkanes and Haloarenes","The Alcohols, Phenols, and Ethers","The Aldehydes, Ketones, and Carboxylic Acids","The Amines","The Biomolecules"]},
Mathematics:{Class12:["Relations and Functions","Inverse Trigonometric Functions","Matrices","Determinants","Continuity and Differentiability","Applications of Derivatives","Integrals","Applications of Integrals","Differential Equations","Vectors and Three-Dimensional Geometry","Linear Programming","Probability"]},
English:{
  Flamingo:[
    "The Last Lesson ‚Äì Alphonse Daudet",
    "Lost Spring ‚Äì Anees Jung",
    "Deep Water ‚Äì William Douglas",
    "The Rattrap ‚Äì Selma Lagerl√∂f",
    "Indigo ‚Äì Louis Fischer",
    "Going Places ‚Äì A.R. Barton"
  ],
  Vistas:[
    "The Third Level ‚Äì Jack Finney",
    "The Tiger King ‚Äì Kalki",
    "Journey to the End of the Earth ‚Äì Tishani Doshi",
    "The Enemy ‚Äì Pearl S. Buck",
    "On the Face of It ‚Äì Susan Hill",
    "Memories of Childhood ‚Äì Zitkala-Sa & Bama"
  ],
  Poems:[
    "My Mother at Sixty-Six ‚Äì Kamala Das",
    "An Elementary School Classroom in a Slum ‚Äì Stephen Spender",
    "Keeping Quiet ‚Äì Pablo Neruda",
    "A Thing of Beauty ‚Äì John Keats",
    "A Roadside Stand ‚Äì Robert Frost",
    "Aunt Jennifer‚Äôs Tigers ‚Äì Adrienne Rich"
  ],

}

    
  }
;


let saved = JSON.parse(localStorage.getItem('PrepGuide')||'{}');
let sortPendingFirst=false;
const checklistEl=document.getElementById('checklist');
const searchInput=document.getElementById('search');


function escapeRegExp(s){return s.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');}
function totalChaptersCount(){let t=0;for(const s in data)for(const c in data[s])t+=data[s][c].length;return t;}
function completedCountFromSaved(){let cnt=0;for(const s in data)for(const c in data[s])data[s][c].forEach((_,i)=>{if(saved[`${s}-${c}-${i}`])cnt++;});return cnt;}
function updateProgressBars(){
const total=totalChaptersCount();
const completed=completedCountFromSaved();
const percent=total===0?0:Math.round((completed/total)*100);
document.getElementById('progress-bar').style.width=percent+'%';
document.getElementById('progress-text').textContent=percent+'%';
const subjectBars={
Physics:{bar:document.getElementById('physics-bar'),text:document.getElementById('physics-text')},
Chemistry:{bar:document.getElementById('chemistry-bar'),text:document.getElementById('chemistry-text')},
Mathematics:{bar:document.getElementById('math-bar'),text:document.getElementById('math-text')},
English:{bar:document.getElementById('english-bar'),text:document.getElementById('english-text')}

};
for(const s in data){
let tot=0,comp=0;
for(const c in data[s]){
tot+=data[s][c].length;
data[s][c].forEach((_,i)=>{if(saved[`${s}-${c}-${i}`]) comp++;});
}
const p=tot===0?0:Math.round((comp/tot)*100);
subjectBars[s].bar.style.width=p+'%';
subjectBars[s].text.textContent=p+'%';
}
}
function highlightText(text,q){if(!q) return text; const esc=escapeRegExp(q); const re=new RegExp(`(${esc})`,'gi'); return text.replace(re,'<span class="highlight">$1</span>');}
function render(filter=''){
  checklistEl.innerHTML='';
  const q=(filter||'').trim().toLowerCase();

  for(const s in data){   // loop over subjects (Physics, Chemistry, English...)
    const card=document.createElement('div'); 
    card.className='card';

    // Subject heading (once per subject)
    const subjectHeading=document.createElement('h2'); 
    subjectHeading.textContent = s;
    card.appendChild(subjectHeading);

    // Now loop subsections (Flamingo, Poems, Vistas...)
    for(const c in data[s]){
      const subHeading=document.createElement('h3');
      subHeading.textContent = c;
      card.appendChild(subHeading);

      const chaptersArr = data[s][c].map((ch,i)=>({
        text:ch,
        key:`${s}-${c}-${i}`,
        checked:!!saved[`${s}-${c}-${i}`]
      }));

      let visible = chaptersArr.filter(ch=>ch.text.toLowerCase().includes(q));
      if(sortPendingFirst) visible.sort((a,b)=>(a.checked===b.checked?0:(a.checked?1:-1)));
      if(visible.length===0) continue;

      visible.forEach(item=>{
        const row=document.createElement('div'); 
        row.className='chapter';

        const wrapper=document.createElement('div'); 
        wrapper.className='checkbox-wrapper';
        const input=document.createElement('input'); 
        input.type='checkbox'; 
        input.id=item.key; 
        input.checked=item.checked;

        const checkmark=document.createElement('span'); 
        checkmark.className='checkmark';
        wrapper.appendChild(input); 
        wrapper.appendChild(checkmark);

        const label=document.createElement('label'); 
        label.htmlFor=item.key; 
        label.className='label-text';
        const icon=icons[item.text]||'üìò'; 
        label.innerHTML=icon+' '+highlightText(item.text,q);

        if(item.checked) label.classList.add('completed');

        input.addEventListener('change',()=>{
          saved[item.key]=input.checked;
          if(!input.checked) delete saved[item.key];
          localStorage.setItem('jeeChecklist',JSON.stringify(saved));
          updateProgressBars(); 
          render(searchInput.value);
        });

        row.appendChild(wrapper); 
        row.appendChild(label); 
        card.appendChild(row);
      });
    }

    checklistEl.appendChild(card);
  }
  updateProgressBars();
}



searchInput.addEventListener('input',()=>{ render(searchInput.value); });
document.getElementById('toggle-sort').addEventListener('click',()=>{
sortPendingFirst=!sortPendingFirst;
document.getElementById('toggle-sort').textContent = sortPendingFirst?"üìå Show Completed First":"üìå Show Pending First";
render(searchInput.value);
});
document.getElementById('reset-btn').addEventListener('click',()=>{
if(confirm('Are you sure to reset all progress?')){saved={}; localStorage.setItem('jeeChecklist',JSON.stringify(saved)); render(searchInput.value);}
});

const themeToggle=document.getElementById('theme-toggle');
themeToggle.addEventListener('click',()=>{
document.body.classList.toggle('light');
themeToggle.textContent=document.body.classList.contains('light')?'‚òÄÔ∏è':'üåô';
render(searchInput.value);
});

render();
</script>
<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker.register("service-worker.js")
      .then(reg => console.log("Service Worker registered:", reg))
      .catch(err => console.log("Service Worker error:", err));
  });
}
</script><!-- ===== Stylish secret owner modal (fixed header click) ===== -->
<!-- ===== Stylish secret owner modal with continuous sparkles + footer long press ===== -->
<!-- ====== Multi-mode Secret Reveal (paste before </body>) ====== -->
<script>
(() => {
  /* === CONFIG / TRIGGERS === */
  const secretName = 'Nishant Jha';
  const seq = ['n','i','s','h','a','n','t'];
  const seqTimeout = 700; // ms to reset sequence if slow typing
  let seqPos = 0, seqTimer = null;
  let headerClicks = 0;
  const clicksToReveal = 5;
  let footerPressTimer = null;

  /* Utility: create DOM container for an effect */
  function makeOverlay(id) {
    const o = document.createElement('div');
    o.className = 'secret-overlay';
    o.id = id;
    Object.assign(o.style, {
      position: 'fixed',
      left: 0, top: 0, width: '100vw', height: '100vh',
      display: 'flex', alignItems: 'center', justifyContent: 'center',
      pointerEvents: 'none', zIndex: 99998
    });
    document.body.appendChild(o);
    return o;
  }
  function cleanUp(el, timeout = 600) {
    if(!el) return;
    el.style.transition = 'opacity .45s ease';
    el.style.opacity = '0';
    setTimeout(()=>{ try{ el.remove(); }catch(e){} }, timeout);
  }

  /* Small helper for sparkles */
  function spawnSparkle(x, y, parent, color='#fff', size=8, life=900) {
    const s = document.createElement('div');
    s.className = 'mini-sparkle';
    Object.assign(s.style, {
      position:'absolute',
      left: (x - size/2) + 'px',
      top: (y - size/2) + 'px',
      width: size + 'px',
      height: size + 'px',
      borderRadius: '50%',
      pointerEvents: 'none',
      background: `radial-gradient(circle, ${color} 0%, rgba(255,255,255,0.25) 50%, transparent 70%)`,
      opacity: 0,
      transform: 'scale(.6)',
      filter: 'blur(0.6px)',
      transition: `all ${life/1000}s linear`
    });
    parent.appendChild(s);
    requestAnimationFrame(()=> {
      s.style.opacity = 1;
      s.style.transform = 'translateY(-18px) scale(1.2)';
      s.style.left = (x + (Math.random()*30-15)) + 'px';
      s.style.top = (y + (Math.random()*40-20)) + 'px';
    });
    setTimeout(()=> s.remove(), life);
  }

  /* ===== 1) GLITCH REVEAL (typing trigger 'nishant') ===== */
  function playGlitchReveal() {
    const overlay = makeOverlay('glitch-overlay');
    overlay.style.pointerEvents = 'auto';
    overlay.style.background = 'transparent';
    const box = document.createElement('div');
    Object.assign(box.style, {
      fontFamily: 'Poppins, system-ui, sans-serif',
      fontSize: '48px',
      fontWeight: 800,
      letterSpacing: '2px',
      color: '#fff',
      textAlign: 'center',
      padding: '18px 26px',
      borderRadius: '12px',
      backdropFilter: 'blur(6px)',
      WebkitBackdropFilter: 'blur(6px)',
      boxShadow: '0 20px 60px rgba(0,0,0,0.6)',
      transform: 'translateY(-6px)',
      opacity: 0
    });
    overlay.appendChild(box);

    // glitch letters logic: display placeholders and animate each letter
    const letters = secretName.split('');
    const placeholders = letters.map(()=>document.createElement('span'));
    placeholders.forEach((el,i)=>{
      el.textContent = '_';
      el.style.display='inline-block';
      el.style.minWidth='10px';
      el.style.margin='0 2px';
      placeholders[i] = el;
      box.appendChild(el);
    });

    // flicker intro
    requestAnimationFrame(()=> {
      box.style.opacity = 1;
    });

    // helper: random char
    const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ@#&$%0123456789';
    let i = 0;
    function revealNext() {
      if(i >= letters.length) {
        // final glow then vanish
        box.animate([{filter:'brightness(1)'},{filter:'brightness(1.6)'},{filter:'brightness(1)'}], {duration:700});
        setTimeout(()=> cleanUp(overlay, 600), 1200);
        return;
      }
      const target = letters[i];
      const el = placeholders[i];
      let cycles = 12 + Math.floor(Math.random()*18);
      let run = 0;
      const t = setInterval(()=>{
        if(run >= cycles) {
          clearInterval(t);
          el.textContent = target;
          el.style.color = '#fff';
          el.style.textShadow = '0 6px 18px rgba(0,255,200,0.14)';
          // sparkle near letter
          const rect = el.getBoundingClientRect();
          spawnSparkle(rect.left + rect.width/2, rect.top + rect.height/2, overlay, '#6ecfff', 8, 700);
          i++;
          setTimeout(revealNext, 120 + Math.random()*240);
        } else {
          el.textContent = chars[Math.floor(Math.random()*chars.length)];
        }
        run++;
      }, 30);
    }
    revealNext();
  }

  /* ===== 2) TYPEWRITER + SPARKLES (header clicks) ===== */
  function playTypewriterSparkles() {
    const overlay = makeOverlay('type-overlay');
    overlay.style.pointerEvents = 'auto';
    overlay.style.background = 'linear-gradient(180deg, rgba(0,0,0,0.45), rgba(0,0,0,0.3))';
    const holder = document.createElement('div');
    Object.assign(holder.style, {
      padding: '14px 22px', borderRadius: '12px', background: 'rgba(255,255,255,0.04)',
      border: '1px solid rgba(255,255,255,0.06)', backdropFilter: 'blur(6px)',
      display:'inline-block', pointerEvents:'none'
    });
    const textEl = document.createElement('div');
    Object.assign(textEl.style, {
      fontFamily: 'Poppins, sans-serif', fontSize:'42px', fontWeight:800, color:'#fff', letterSpacing:'1px'
    });
    holder.appendChild(textEl);
    overlay.appendChild(holder);

    let idx = 0;
    function typeStep() {
      if(idx > secretName.length) {
        // after complete, glitter surge then vanish
        holder.animate([{transform:'scale(1)'},{transform:'scale(1.03)'},{transform:'scale(1)'}], {duration:900});
        setTimeout(()=> cleanUp(overlay, 700), 1200);
        return;
      }
      textEl.textContent = secretName.slice(0, idx);
      // spawn a few sparkles around the holder
      const rect = holder.getBoundingClientRect();
      for(let s=0;s<3;s++){
        spawnSparkle(rect.left + rect.width/2 + (Math.random()*120-60), rect.top + rect.height/2 + (Math.random()*40-20), overlay, ['#ff6ec7','#6ecfff','#ffe66e'][Math.floor(Math.random()*3)], 6, 900);
      }
      idx++;
      setTimeout(typeStep, 90 + Math.random()*90);
    }
    typeStep();
  }

  /* ===== 3) MIRROR SHATTER (footer long press) ===== */
  function playMirrorShatter() {
    const overlay = makeOverlay('shatter-overlay');
    overlay.style.background = 'linear-gradient(180deg, rgba(10,12,16,0.85), rgba(5,6,10,0.85))';
    overlay.style.pointerEvents = 'auto';

    // glass layer
    const glass = document.createElement('div');
    Object.assign(glass.style, {
      position:'absolute', left:0, top:0, width:'100%', height:'100%',
      background: 'radial-gradient(circle at 20% 30%, rgba(255,255,255,0.02), transparent 20%), linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02))',
      mixBlendMode: 'overlay',
      pointerEvents:'none'
    });
    overlay.appendChild(glass);

    // create shards (rectangles approximating shards) then animate them outwards
    const shards = [];
    const shardCount = 10;
    for(let i=0;i<shardCount;i++){
      const s = document.createElement('div');
      const w = 60 + Math.random()*160;
      const h = 40 + Math.random()*140;
      Object.assign(s.style, {
        position:'absolute',
        left: `${20 + Math.random()*60}%`,
        top: `${20 + Math.random()*60}%`,
        width: w + 'px',
        height: h + 'px',
        transformOrigin: 'center',
        background: 'linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02))',
        border: '1px solid rgba(255,255,255,0.03)',
        borderRadius: '4px',
        pointerEvents: 'none',
        transition: 'transform 900ms cubic-bezier(.2,.8,.2,1), opacity 1000ms ease'
      });
      overlay.appendChild(s);
      shards.push(s);
    }

    // center glowing name behind shards
    const nameBox = document.createElement('div');
    Object.assign(nameBox.style, {
      fontFamily:'Poppins, sans-serif', fontSize:'46px', fontWeight:900, color:'#fff',
      textAlign:'center', zIndex: 5, pointerEvents: 'none', opacity: 0,
      textShadow: '0 12px 40px rgba(0,200,255,0.12)'
    });
    nameBox.textContent = secretName;
    overlay.appendChild(nameBox);

    // pre-crack pulse
    overlay.animate([{opacity:0},{opacity:1}], {duration:200, fill:'forwards'});

    // animate shards as "shattering" then reveal name
    setTimeout(()=>{
      shards.forEach((s, idx) => {
        const dx = (Math.random()*2 - 1) * (200 + Math.random()*300);
        const dy = - (200 + Math.random()*200) + (Math.random()*200 - 100);
        const rot = (Math.random()*80 - 40);
        s.style.transform = `translate(${dx}px, ${dy}px) rotate(${rot}deg)`;
        s.style.opacity = '0';
      });
      // show name after shards move
      setTimeout(()=> {
        nameBox.style.transition = 'opacity 500ms ease, transform 600ms cubic-bezier(.2,.9,.3,1)';
        nameBox.style.opacity = 1;
        nameBox.style.transform = 'scale(1.02)';
      }, 420);
    }, 220);

    // after a while, fade out entire overlay
    setTimeout(()=> cleanUp(overlay, 700), 1800);
  }

  /* ===== 4) PARTICLE SWIRL (press 'P') =====
     Uses canvas; particles move to form text (drawn to an offscreen canvas then sample points).
  */
  function playParticleSwirl() {
    const overlay = makeOverlay('particle-overlay');
    overlay.style.background = 'radial-gradient(circle at 50% 40%, rgba(0,0,0,0.15), rgba(0,0,0,0.55))';
    overlay.style.pointerEvents = 'auto';

    const canvas = document.createElement('canvas');
    canvas.width = Math.min(window.innerWidth, 1000);
    canvas.height = Math.min(window.innerHeight, 600);
    canvas.style.width = '100%';
    canvas.style.height = '100%';
    canvas.style.maxWidth = '100vw';
    canvas.style.maxHeight = '100vh';
    canvas.style.display = 'block';
    canvas.style.pointerEvents = 'none';
    overlay.appendChild(canvas);
    const ctx = canvas.getContext('2d');

    // create offscreen canvas to draw text and sample pixel positions
    const off = document.createElement('canvas');
    off.width = canvas.width;
    off.height = canvas.height;
    const octx = off.getContext('2d');
    // draw big text centered
    const fontSize = Math.floor(off.width * 0.08);
    octx.fillStyle = '#ffffff';
    octx.font = `bold ${fontSize}px Poppins, sans-serif`;
    octx.textAlign = 'center';
    octx.textBaseline = 'middle';
    const cx = off.width/2, cy = off.height/2;
    octx.fillText(secretName, cx, cy);

    // sample points
    const img = octx.getImageData(0,0,off.width,off.height);
    const points = [];
    const gap = 8; // sampling gap: higher = fewer particles
    for(let y=0; y<off.height; y += gap){
      for(let x=0; x<off.width; x += gap){
        const idx = (y*off.width + x)*4;
        if(img.data[idx+3] > 128) { // alpha > 128
          points.push({x, y});
        }
      }
    }
    // create particles
    const particles = [];
    for(let i=0; i<points.length; i++){
      const p = {
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        vx: 0, vy: 0,
        tx: points[i].x + (Math.random()*6-3),
        ty: points[i].y + (Math.random()*6-3),
        r: 1 + Math.random()*2,
        hue: 180 + Math.random()*120
      };
      particles.push(p);
    }

    // animation loop: swirl to center then lock into target positions
    let t = 0;
    function step(){
      ctx.clearRect(0,0,canvas.width, canvas.height);
      t += 0.02;
      for(let i=0;i<particles.length;i++){
        const p = particles[i];
        // force towards center swirl initially
        const cx = canvas.width/2, cy = canvas.height/2;
        const ax = (cx - p.x) * 0.002; 
        const ay = (cy - p.y) * 0.002;
        // swirl component
        const angle = Math.atan2(p.y - cy, p.x - cx) + 0.02;
        const swirl = 0.6 * Math.sin(t + i*0.01);
        p.vx = (p.vx + ax + Math.cos(angle)*0.2*swirl) * 0.92;
        p.vy = (p.vy + ay + Math.sin(angle)*0.2*swirl) * 0.92;
        // after some time, attract to target
        const progress = Math.min(1, (t/2.2));
        p.vx += (p.tx - p.x) * 0.02 * progress;
        p.vy += (p.ty - p.y) * 0.02 * progress;

        p.x += p.vx;
        p.y += p.vy;

        ctx.beginPath();
        ctx.fillStyle = `hsl(${p.hue}, 80%, 60%)`;
        ctx.globalAlpha = 0.9;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
      }
      if(t < 4) {
        requestAnimationFrame(step);
      } else {
        // hold final image briefly then fade out
        setTimeout(()=> cleanUp(overlay, 900), 900);
      }
    }
    step();
  }

  /* ===== 5) RUNE MORPH (press 'R') ===== */
  function playRuneMorph() {
    const overlay = makeOverlay('rune-overlay');
    overlay.style.pointerEvents = 'auto';
    overlay.style.background = 'linear-gradient(180deg, rgba(6,6,10,0.6), rgba(2,2,6,0.9))';

    const container = document.createElement('div');
    Object.assign(container.style, {
      display:'flex', gap:'10px', alignItems:'center', justifyContent:'center',
      fontFamily:'Poppins, sans-serif', fontSize:'46px', fontWeight:900,
      color:'#fff', pointerEvents:'none'
    });
    overlay.appendChild(container);

    // split into letter boxes
    const letters = secretName.split('');
    const letterEls = letters.map(ch => {
      const box = document.createElement('div');
      box.style.minWidth = '18px';
      box.style.textAlign = 'center';
      box.style.position = 'relative';
      box.style.opacity = '0';
      box.style.transition = 'opacity 220ms ease';
      container.appendChild(box);
      return box;
    });

    // rune list (mix of interesting unicode glyphs)
    const runes = ['·õü','·ö†','·õû','·ö±','·õá','‚ú¶','‚ú∑','ÍôÆ','‚óá','‚Äª','Âçç','‚ÜØ','‚ôÜ','‚åò','‚ú•'];
    // show runes then morph
    letterEls.forEach((el, i) => {
      setTimeout(()=>{
        el.style.opacity = '1';
        const rune = document.createElement('div');
        rune.textContent = runes[Math.floor(Math.random()*runes.length)];
        rune.style.fontSize = '42px';
        rune.style.opacity = '0';
        rune.style.transition = 'transform .5s ease, opacity .4s ease';
        rune.style.transform = 'translateY(8px) scale(.9)';
        el.appendChild(rune);
        // animate rune in
        requestAnimationFrame(()=>{ rune.style.opacity = '1'; rune.style.transform = 'translateY(0) scale(1)'; });

        // after small delay morph rune -> actual letter
        setTimeout(()=>{
          rune.style.opacity = '0';
          rune.style.transform = 'translateY(-6px) scale(.8)';
          setTimeout(()=>{
            el.textContent = letters[i];
            el.style.textShadow = '0 8px 30px rgba(160,120,255,0.12)';
            el.style.opacity = '1';
          }, 260);
        }, 650 + Math.random()*260);
      }, 120*i);
    });

    // fade out after a while
    setTimeout(()=> cleanUp(overlay, 700), 2000 + letters.length * 120);
  }

  /* ===== TRIGGER WIRING ===== */
  // typing sequence for glitch
  document.addEventListener('keydown', (e) => {
    const k = (e.key || '').toLowerCase();
    if(!k) return;
    if(k === seq[seqPos]) {
      seqPos++;
      clearTimeout(seqTimer);
      seqTimer = setTimeout(()=> seqPos = 0, seqTimeout);
      if(seqPos === seq.length) {
        seqPos = 0;
        playGlitchReveal();
      }
    } else {
      // reset unless they pressed first letter
      seqPos = (k === seq[0]) ? 1 : 0;
    }
  });

  // header clicks -> typewriter
  const header = document.querySelector('header') || document.querySelector('h1') || document.body;
  if(header) {
    header.style.cursor = 'pointer';
    header.addEventListener('click', () => {
      headerClicks++;
      if(headerClicks >= clicksToReveal) {
        headerClicks = 0;
        playTypewriterSparkles();
      }
      clearTimeout(window._secret_hdr_timer);
      window._secret_hdr_timer = setTimeout(()=> headerClicks = 0, 1800);
    });
  }

  // footer long press -> mirror shatter
  const footer = document.querySelector('footer');
  if(footer) {
    footer.addEventListener('pointerdown', () => {
      footerPressTimer = setTimeout(()=> { playMirrorShatter(); }, 1000);
    });
    ['pointerup','pointerleave','pointercancel'].forEach(evt => {
      footer.addEventListener(evt, ()=> {
        if(footerPressTimer) { clearTimeout(footerPressTimer); footerPressTimer = null; }
      });
    });
  }

  // key 'P' -> particle swirl
  document.addEventListener('keydown', (e) => {
    if(e.key && e.key.toLowerCase() === 'p') playParticleSwirl();
  });

  // key 'R' -> rune morph
  document.addEventListener('keydown', (e) => {
    if(e.key && e.key.toLowerCase() === 'r') playRuneMorph();
  });

  /* keep overlay class styles minimal (for possible global tweaks) */
  const globalStyle = document.createElement('style');
  globalStyle.textContent = `
    .secret-overlay { opacity: 1; transition: opacity .3s ease; }
    .mini-sparkle { will-change: transform, opacity; }
  `;
  document.head.appendChild(globalStyle);

  /* Accessibility: optionally notify console */
  console.log('Secret reveal modes loaded ‚Äî triggers:\n- Type "nishant" -> Glitch\n- 5 header clicks -> Typewriter+Sparkles\n- Long-press footer -> Mirror Shatter\n- Press "P" -> Particle Swirl\n- Press "R" -> Rune Morph');
})();
</script>



</body>
</html>
